# Documentation Guidelines

This document outlines the steps to generate project documentation using **MkDocs** for Python projects. It includes instructions for auto-generating API references from your code.

## Prerequisites

Before generating the documentation, ensure that you have the following installed:

- **Python** (>=3.7)
- **pip** (Python package manager)

To install the necessary dependencies, run the following command:

```bash
pip install mkdocs mkdocstrings[python] mkdocs-autorefs mkdocs-material mkdocs-gen-files
```

## Setting up MkDocs

### Create the Docs Folder

Create a docs folder in your repository with the following structure:

```bash
docs/
├── assets/
│   └── logo.png
│   └── ...
├── reference/
├── scripts/
│   └── gen_ref_pages.py
├── installation.md
├── usage.md
├── index.md
```

The structure could be adapted to your needs. You should manually create all the folders and files, except for the `reference/` folder contents, which is used to store the autogenerated API reference pages, and will be created automatically in later steps. The `index.md` file is the landing page of the documentation, and the `usage/` folder is presented as an example of how to create usage documentation pages.

### Create the `mkdocs.yml` Configuration File

The `mkdocs.yml` file contains the configuration for MkDocs. Below is a sample configuration.

```yaml
site_name: "Your Package Docs"

theme:
  name: material
  logo: assets/logo.png
  favicon: assets/logo.png

plugins:
  - search
  - mkdocstrings:
      handlers:
        python:
          options:
            docstring_options:
              ignore_init_summary: true
            merge_init_into_class: true
            docstring_style: google
            show_root_heading: true
            show_source: true
            separate_signature: true
            line_length: 80
            show_signature_annotations: true
            show_symbol_type_heading: true
            show_symbol_type_toc: true
            show_inheritance_diagram: true

nav:
  - Home: index.md

  - Usage: usage.md
  - Installation: installation.md

  - Reference:
    # This will be autogenerated in the next step
```

The `index.md` serves as the landing page for your documentation. The `Usage` and `Installation` sections are created manually, and they serve as an example of typical documentation pages. The `Reference/` section will be autogenerated in later steps.

## Autogenerating Reference

To automatically generate the reference documentation from your Python code, we will use the script `docs/scripts/gen_ref_pages.py`. You can find an example gen_ref_pages.py file [here](./gen_ref_pages.py). You just need to adapt the `PACKAGE_DIR` and `REFERENCE_DIR` constants to point to the correct folder in your project.

```bash
python docs/scripts/gen_ref_pages.py
```

This will generate the reference pages in the `docs/reference/` folder, and output the list of pages to the console, for example:

```
- Reference:
  - Cfg:
    - __init__: reference/cfg/__init__.md
  - Engine:
    - Base: reference/engine/base.md
  - Render:
    - Custom: reference/render/custom.md
    - Pyrender: reference/render/pyrender.md
  - Utils:
    - Base: reference/utils/base.md
    - Camera: reference/utils/camera.md
    - Design: reference/utils/design.md
    - Image: reference/utils/image.md
    - Ops: reference/utils/ops.md
    - Report: reference/utils/report.md
    - Show: reference/utils/show.md
    - Tridim: reference/utils/tridim.md
    - Waxing: reference/utils/waxing.md
```

Copy and paste the list of pages into the `mkdocs.yml` file, under the `- Reference/` section.

Ensure your Python code has proper [docstrings](./docstrings.md) in either Google format. For example:

```python
def add(a: int, b: int) -> int:
    """
    Adds two numbers together.

    Args:
        a (int): The first number.
        b (int): The second number.

    Returns:
        (int): The sum of the two numbers.
    """
    return a + b
```

## Build the Documentation

To generate the documentation, run the following command:

```bash
mkdocs build
```

This command creates a `site/` directory containing the static documentation.

## Preview the Documentation

To preview the documentation locally, run:

```bash
mkdocs serve
```

You can view the documentation in your browser at `http://127.0.0.1:8000/`.

## Deployment

Once the documentation is generated, it can be deployed to a web server or hosted on GitHub Pages. To deploy the documentation to GitHub Pages, use the following command:

```bash
mkdocs gh-deploy
```
